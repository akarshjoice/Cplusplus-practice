import tkinter as tk
from tkinter import ttk

class StatusBar(tk.Frame):
    def __init__(self, master):
        super().__init__(master, relief=tk.SUNKEN, borderwidth=1)
        self.grid(sticky="ew")

        # Create Treeview
        self.tree = ttk.Treeview(self, columns=("Protocol", "IP", "Port", "Status"), show="headings", height=1)
        self.tree.heading("Protocol", text="Protocol")
        self.tree.heading("IP", text="IP")
        self.tree.heading("Port", text="Port")
        self.tree.heading("Status", text="Status")

        self.tree.column("Protocol", width=100)
        self.tree.column("IP", width=120)
        self.tree.column("Port", width=60)
        self.tree.column("Status", width=100)

        self.tree.pack(fill="x")

    def update_status(self, protocol, ip, port, status):
        self.tree.delete(*self.tree.get_children())  # Clear previous entries
        self.tree.insert("", "end", values=(protocol, ip, port, status), tags=(status,))
        self.tree.tag_configure("Connected", foreground="green")
        self.tree.tag_configure("Disconnected", foreground="red")

# Example usage
root = tk.Tk()
root.geometry("500x50")

status_bar = StatusBar(root)
status_bar.pack(fill="x")

# Simulating a connection update
root.after(2000, lambda: status_bar.update_status("FIX 4.4", "192.168.1.10", "6000", "Connected"))

root.mainloop()
